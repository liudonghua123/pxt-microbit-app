<!DOCTYPE html>
<html lang="en" manifest="/pxt-microbit-app/release.manifest" data-framework="typescript">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
    <script type="text/javascript">
    if(/[&?]translate=1/.test(window.location.href)) {
		var _jipt = [];
        _jipt.push(['project', 'makecode']);
        _jipt.push(['escape', function() {
            window.location.href = window.location.href.replace(/[$\?]translate=1/, '');
        }]);
        _jipt.push(['before_dom_insert', function(text, node, attribute) {
            if (text)
                text = text.replace(/^\{(id|loc):[^\}]+\}/g, '');
            return text;
        }]);
        // inject crowdin
        (function _() {
            var s = document.createElement("script");
            s.setAttribute("type", "text/javascript");
            s.setAttribute("src", "//cdn.crowdin.com/jipt/jipt.js");
            document.head.insertBefore(s, document.head.firstElementChild);
        })();
    }
	</script>

    
<!-- include appmeta.html -->

<!-- include robotsmeta.html -->

<!-- end include robotsmeta.html -->

<title>Microsoft MakeCode for micro:bit</title>
<meta name="description" content="A Blocks / JavaScript code editor for the micro:bit powered by Microsoft MakeCode." />
<link rel="manifest" href="/pxt-microbit-app/sim.webmanifest">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Microsoft MakeCode for micro:bit">
<meta name="apple-mobile-web-app-status-bar-style" content="translucent-black">
<meta name="format-detection" content="telephone=no">
<meta name="application-name" content="Microsoft MakeCode for micro:bit">
<meta name="apple-itunes-app" content="app-id=1092687276"/>
<meta name="msapplication-TileColor" content="#5C005C">
<meta name="msapplication-TileImage" content="@cdnUrl@/blob/4de54063603c8d16531078818a83f7c29a3588fa/static/icons/apple-touch-icon.png">
<meta name="msapplication-config" content="none"/>
<meta name="theme-color" content="#5C005C">

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="" />
<meta name="twitter:title" content="Microsoft MakeCode for micro:bit" />
<meta name="twitter:description" content="A Blocks / JavaScript code editor for the micro:bit powered by Microsoft MakeCode." />
<meta name="twitter:image" content="@cdnUrl@/blob/4de54063603c8d16531078818a83f7c29a3588fa/static/icons/apple-touch-icon.png" />

<meta property="og:title" content="Microsoft MakeCode for micro:bit" />
<meta property="og:site_name" content="Microsoft MakeCode for micro:bit" />
<meta property="og:description" content="A Blocks / JavaScript code editor for the micro:bit powered by Microsoft MakeCode." />
<meta property="og:image" content="@cdnUrl@/blob/4de54063603c8d16531078818a83f7c29a3588fa/static/icons/apple-touch-icon.png" />

<link rel="apple-touch-icon" href="@cdnUrl@/blob/4de54063603c8d16531078818a83f7c29a3588fa/static/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="@cdnUrl@/blob/4de54063603c8d16531078818a83f7c29a3588fa/static/icons/apple-touch-icon.png">
<link rel="shortcut icon" href="@cdnUrl@/blob/4de54063603c8d16531078818a83f7c29a3588fa/static/icons/apple-touch-icon.png">

<!-- end include appmeta.html -->


    <link rel="stylesheet" data-rtl="/pxt-microbit-app/rtlsemantic.css" href="/pxt-microbit-app/semantic.css" type="text/css">
</head>

<body class="main">
    <div id='loading' class="ui active dimmer">
        <div class="ui large main loader msft"></div>
    </div>

    <div id='custom-content'>
    </div>
    <div id='blocks-editor-field-div'>
    </div>

    <div id="allcontent">
        <div id="editorcontent">
            <div id='content' class="ui dimmable full-abs">
            </div>
        </div>
    </div>

    <div id='msg' aria-live="polite">
        <div id='errmsg' class="ui red inverted segment"></div>
        <div id='warnmsg' class="ui orange inverted segment"></div>
        <div id='infomsg' class="ui teal inverted segment"></div>
        <div id='compilemsg' class="ui ignored info message"></div>
    </div>

    <script>
        // This line gets patched up by the cloud
        var pxtConfig = {
    "relprefix": "/pxt-microbit-app/",
    "verprefix": "",
    "workerjs": "/pxt-microbit-app/worker.js",
    "monacoworkerjs": "/pxt-microbit-app/monacoworker.js",
    "gifworkerjs": "/pxt-microbit-app/gifjs/gif.worker.js",
    "serviceworkerjs": "/pxt-microbit-app/serviceworker.js",
    "typeScriptWorkerJs": "/pxt-microbit-app/tsworker.js",
    "pxtVersion": "11.3.20",
    "pxtRelId": "localDirRelId",
    "pxtCdnUrl": "/pxt-microbit-app/",
    "commitCdnUrl": "/pxt-microbit-app/",
    "blobCdnUrl": "/pxt-microbit-app/",
    "cdnUrl": "/pxt-microbit-app/",
    "targetVersion": "0.0.0",
    "targetRelId": "",
    "targetUrl": "",
    "targetId": "microbit",
    "simUrl": "/pxt-microbit-app/simulator.html",
    "simserviceworkerUrl": "/pxt-microbit-app/simulatorserviceworker.js",
    "simworkerconfigUrl": "/pxt-microbit-app/workerConfig.js",
    "partsUrl": "/pxt-microbit-app/siminstructions.html",
    "runUrl": "/pxt-microbit-app/run.html",
    "docsUrl": "/pxt-microbit-app/docs.html",
    "multiUrl": "/pxt-microbit-app/multi.html",
    "asseteditorUrl": "/pxt-microbit-app/asseteditor.html",
    "isStatic": true,
    "kioskUrl": "/pxt-microbit-app/kiosk.html",
    "teachertoolUrl": "/pxt-microbit-app/teachertool.html",
    "tutorialtoolUrl": "/pxt-microbit-app/tutorialtool.html",
    "skillmapUrl": "/pxt-microbit-app/skillmap.html",
    "multiplayerUrl": "/pxt-microbit-app/multiplayer.html",
    "authcodeUrl": "/pxt-microbit-app/authcode.html"
};
    </script>
    
<!-- include apptrackingweb.html -->
<script type="text/javascript" src="/pxt-microbit-app/pxtweb.js"></script>
<!-- begin usabilla live embed code -->
<script type="text/javascript">window.lightningjs||function(n){var e="lightningjs";function t(e,t){var r,i,a,o,d,c;return t&&(t+=(/\?/.test(t)?"&":"?")+"lv=1"),n[e]||(r=window,i=document,a=e,o=i.location.protocol,d="load",c=0,function(){n[a]=function(){var t=arguments,i=this,o=++c,d=i&&i!=r&&i.id||0;function s(){return s.id=o,n[a].apply(s,arguments)}return(e.s=e.s||[]).push([o,d,t]),s.then=function(n,t,r){var i=e.fh[o]=e.fh[o]||[],a=e.eh[o]=e.eh[o]||[],d=e.ph[o]=e.ph[o]||[];return n&&i.push(n),t&&a.push(t),r&&d.push(r),s},s};var e=n[a]._={};function s(){e.P(d),e.w=1,n[a]("_load")}e.fh={},e.eh={},e.ph={},e.l=t?t.replace(/^\/\//,("https:"==o?o:"http:")+"//"):t,e.p={0:+new Date},e.P=function(n){e.p[n]=new Date-e.p[0]},e.w&&s(),r.addEventListener?r.addEventListener(d,s,!1):r.attachEvent("onload",s);var l=function(){function n(){return["<!DOCTYPE ",o,"><",o,"><head></head><",t,"><",r,' src="',e.l,'"></',r,"></",t,"></",o,">"].join("")}var t="body",r="script",o="html",d=i[t];if(!d)return setTimeout(l,100);e.P(1);var c,s=i.createElement("div"),h=s.appendChild(i.createElement("div")),u=i.createElement("iframe");s.style.display="none",d.insertBefore(s,d.firstChild).id="lightningjs-"+a,u.frameBorder="0",u.id="lightningjs-frame-"+a,/MSIE[ ]+6/.test(navigator.userAgent)&&(u.src="javascript:false"),u.allowTransparency="true",h.appendChild(u);try{u.contentWindow.document.open()}catch(n){e.domain=i.domain,c="javascript:var d=document.open();d.domain='"+i.domain+"';",u.src=c+"void(0);"}try{var p=u.contentWindow.document;p.write(n()),p.close()}catch(e){u.src=c+'d.write("'+n().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}e.P(2)};e.l&&l()}()),n[e].lv="1",n[e]}var r=window.lightningjs=t(e);r.require=t,r.modules=n}({});window.usabilla_live = lightningjs.require("usabilla_live", "//w.usabilla.com/fe98398a199e.js");</script>
<!-- end usabilla live embed code -->

<script type="text/javascript">
window.addEventListener("DOMContentLoaded", () => {
    let hidden = false;
    
    // Observe the rootdir to see if we are in the homescreen or not. If
    // we leave the home screen, hide the usabilla overlay
    const observer = new MutationObserver((mutationList) => {
        for (const mutation of mutationList) {
            if (mutation.type === "attributes") {
                const root = document.getElementById("root");

                if (root.classList.contains("inHome")) {
                    if (hidden) {
                        hidden = false;
                        const el = document.querySelector("div.usabilla__overlay");
                        if (el) el.style.display = "";
                    }
                }
                else if (!hidden) {
                    hidden = true;
                    const el = document.querySelector("div.usabilla__overlay");
                    if (el) el.style.display = "none";
                }
            }
        }
    });

    // Just poll until react has had time to render the root div
    let interval = setInterval(() => {
        const root = document.getElementById("root");

        if (root) {
            clearInterval(interval);
            observer.observe(root, { attributes: true, attributeFilter: ["class"] });
        }
    }, 500);
});
</script>
<!-- end include apptrackingweb.html -->

    
<!-- include apptracking.html -->
<script type="text/javascript">
    window.loadAppInsights = function (includeCookie, telemetryInitializer) {
        //Backend will patch / + blb + / with CDN url and the check that URL ends with the sha would pass
        var isProduction = includeCookie && (/[0-9a-f]{40}\/$/.test("/pxt-microbit-app/"));
        !function(T,l,y){var S=T.location,k="script",D="connectionString",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\./g,"-"),hasFullStack:!1,stack:n+"\nSnippet failed to load ["+a+"] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: "+(S&&S.pathname||"_unknown_")+"\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{
            src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source
            onInit: function (sdk) {
                sdk.addTelemetryInitializer(telemetryInitializer);
            },
            cfg: {
                instrumentationKey:"9801ed01-c40f-46ec-aa40-2a1742a9e71c",
                disableAjaxTracking: true,
                overridePageViewDuration: false,
                disableExceptionTracking: true,
                disableCorrelationHeaders: true,
                disableCookiesUsage: !isProduction,
                isStorageUseDisabled: !isProduction,
                url: "/pxt-microbit-app/ai.2.min.js"
            }
        });
        window.appInsights=appInsights;

        var location = window.location.toString();
        appInsights.trackPageView({
            name: window.location.hostname,
            uri: window.location.origin,
            properties: {
                url: scrubUrl(location),
                urlReferrer: scrubUrl(document.referrer.toString())
            }
        });

        // Scrub potential PII from the URL.
        function scrubUrl(url) {
            if (!url) return url;

            var scriptIdRegex = /(?:S?\d{5}-\d{5}-\d{5}-\d{5})|(?:_[0-9a-zA-Z]{12})/g;
            var scrubbedUrl = new URL(url.toLocaleLowerCase().replace(scriptIdRegex, "xxxxx-xxxxx-xxxxx-xxxxx"));

            // Just as a precaution, strip any suspicious query parameters.
            var blockedParamKeywords = ["username", "password", "token", "pwd"];
            var searchParams = Array.from(scrubbedUrl.searchParams.keys());
            for (var param of searchParams) {
                if (blockedParamKeywords.some(k => param.indexOf(k) != -1)) {
                    scrubbedUrl.searchParams.delete(param);
                }
            }

            return scrubbedUrl.toString();
        }

        return isProduction;
    }
    pxt.initAnalyticsAsync();
</script>
<!-- end include apptracking.html -->

    <script type="text/javascript" src="/pxt-microbit-app/pxtapp.js"></script>
    <script type="text/javascript" src="/pxt-microbit-app/target.js"></script>
    <script id="mainscript" type="text/javascript" src="/pxt-microbit-app/main.js"></script>
    <xml id="blocklyToolboxDefinitionCategory" style="display: none">
        <!-- An empty category is required so that Blockly launches in category mode -->
        <category name="">
        </category>
    </xml>
    <xml id="blocklyToolboxDefinitionFlyout" style="display: none">
    </xml>
    <script>
        // Before loading vs/editor/editor.main, define a global MonacoEnvironment that overwrites
        // the default worker url location (used when creating WebWorkers). The problem here is that
        // HTML5 does not (yet) allow cross-domain web workers, so we need to proxy the instantion of
        // a web worker through a same-domain script
        window.MonacoEnvironment = {
            getWorkerUrl: function(workerId, label) {
                return pxt.webConfig.monacoworkerjs;
            }
        };

        // this get rewritten to blob URLs with SHAs while uploading to the cloud
        // keep in sync with release.manifest and asseteditor.html
        window.MonacoPaths = {
            "vs/loader": "/pxt-microbit-app/vs/loader.js",
            "vs/base/worker/workerMain": "/pxt-microbit-app/vs/base/worker/workerMain.js",
            "vs/basic-languages/bat/bat": "/pxt-microbit-app/vs/basic-languages/bat/bat.js",
            "vs/basic-languages/cpp/cpp": "/pxt-microbit-app/vs/basic-languages/cpp/cpp.js",
            "vs/basic-languages/markdown/markdown": "/pxt-microbit-app/vs/basic-languages/markdown/markdown.js",
            "vs/basic-languages/python/python": "/pxt-microbit-app/vs/basic-languages/python/python.js",
            "vs/basic-languages/typescript/typescript": "/pxt-microbit-app/vs/basic-languages/typescript/typescript.js",
            "vs/editor/editor.main.css": "/pxt-microbit-app/vs/editor/editor.main.css",
            "vs/editor/editor.main": "/pxt-microbit-app/vs/editor/editor.main.js",
            "vs/editor/editor.main.nls": "/pxt-microbit-app/vs/editor/editor.main.nls.js",
            "vs/language/json/jsonMode": "/pxt-microbit-app/vs/language/json/jsonMode.js",
            "vs/language/json/jsonWorker": "/pxt-microbit-app/vs/language/json/jsonWorker.js",
            "vs/language/typescript/tsMode": "/pxt-microbit-app/vs/language/typescript/tsMode.js",
            "vs/language/typescript/tsWorker": "/pxt-microbit-app/vs/language/typescript/tsWorker.js",
            "lzma/lzma_worker-min.js": "/pxt-microbit-app/lzma/lzma_worker-min.js",
            "smoothie/smoothie_compressed.js": "/pxt-microbit-app/smoothie/smoothie_compressed.js",
            "blockly.css": "/pxt-microbit-app/blockly.css",
            "rtlblockly.css": "/pxt-microbit-app/rtlblockly.css",
            "gifjs/gif.js": "/pxt-microbit-app/gifjs/gif.js",
            "qrcode/qrcode.min.js": "/pxt-microbit-app/qrcode/qrcode.min.js",
            "zip.js/zip.min.js": "/pxt-microbit-app/zip.js/zip.min.js",
            "pdf-lib/pdf-lib.min.js": "/pxt-microbit-app/pdf-lib/pdf-lib.min.js",
            "music-editor/apple.png": "/pxt-microbit-app/music-editor/apple.png",
            "music-editor/burger.png": "/pxt-microbit-app/music-editor/burger.png",
            "music-editor/cake.png": "/pxt-microbit-app/music-editor/cake.png",
            "music-editor/car.png": "/pxt-microbit-app/music-editor/car.png",
            "music-editor/cat.png": "/pxt-microbit-app/music-editor/cat.png",
            "music-editor/cherry.png": "/pxt-microbit-app/music-editor/cherry.png",
            "music-editor/clam.png": "/pxt-microbit-app/music-editor/clam.png",
            "music-editor/computer.png": "/pxt-microbit-app/music-editor/computer.png",
            "music-editor/crab.png": "/pxt-microbit-app/music-editor/crab.png",
            "music-editor/dog.png": "/pxt-microbit-app/music-editor/dog.png",
            "music-editor/duck.png": "/pxt-microbit-app/music-editor/duck.png",
            "music-editor/egg.png": "/pxt-microbit-app/music-editor/egg.png",
            "music-editor/explosion.png": "/pxt-microbit-app/music-editor/explosion.png",
            "music-editor/fish.png": "/pxt-microbit-app/music-editor/fish.png",
            "music-editor/ice-cream.png": "/pxt-microbit-app/music-editor/ice-cream.png",
            "music-editor/lemon.png": "/pxt-microbit-app/music-editor/lemon.png",
            "music-editor/snake.png": "/pxt-microbit-app/music-editor/snake.png",
            "music-editor/star.png": "/pxt-microbit-app/music-editor/star.png",
            "music-editor/strawberry.png": "/pxt-microbit-app/music-editor/strawberry.png",
            "music-editor/taco.png": "/pxt-microbit-app/music-editor/taco.png",
            "music-editor/bass-clef.svg": "/pxt-microbit-app/music-editor/bass-clef.svg",
            "music-editor/treble-clef.svg": "/pxt-microbit-app/music-editor/treble-clef.svg",
        }
    </script>
</body>

</html>
